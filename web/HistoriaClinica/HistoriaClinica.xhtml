<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core">

    <h:head>
        <f:metadata>
            <f:event type="preRenderView"
                     listener="#{historiaClinicaBean.preRender}" />
        </f:metadata>

    </h:head>
    <body>

        <ui:composition template="./../template/TemplateHistoriaClinica.xhtml">

            <ui:define name="top">


                <center>
                    <h:graphicImage library="img" name="logoAsistir.jpg" />
                </center>                    
                <h:commandLink value="Salir" styleClass="logout" action="#{consultarPaciente.salir}" immediate="true"></h:commandLink>

            </ui:define>

            <ui:define name="left">
                <br></br>
                <br></br>
                <ui:include src="menuLateral.xhtml" ></ui:include>
            </ui:define>

            <ui:define name="right">
                right
            </ui:define>

            <ui:define name="content">
                <br></br>
                <br></br>
                <rich:messages ajaxRendered="true"/>
                <rich:panel header="Historia Clinica">
                    <center>
                        <h:panelGrid columns="8" cellspacing="10">
                            <h:outputLabel value="Fecha:" style="color: #083941;" />
                            <h:panelGroup>
                                <rich:calendar  required="true" datePattern="yyyy-MM-dd"  id="fecha_i" inputSize="10" value="#{historiaClinicaBean.cita.fecha}" requiredMessage="Por favor ingrese la fecha."/>
                                <rich:message for="fecha_i"></rich:message>
                            </h:panelGroup>
                            <h:outputLabel value="Convenio:" style="color: #083941;"/>
                            <h:inputText id="convenio" value="#{historiaClinicaBean.cita.convenio}" required="true" requiredMessage="Por favor ingrese la fecha."/>

                            <h:outputLabel value="Cód. Servicio:" style="color: #083941;"/>
                            <h:inputText id="codServicio" value="#{historiaClinicaBean.cita.codServicio}"/>

                            <h:outputLabel value="Móvil:" style="color: #083941;"/>
                            <h:inputText id="movil" value="#{historiaClinicaBean.cita.movil}"/>

                        </h:panelGrid>
                    </center>
                </rich:panel>
                <br></br>
                <rich:panel  id="idDatosP" header="Datos Personal" styleClass="centerPanel" style="color:#035557;">
                    <ui:include src="DatosPersonales.xhtml"/>    
                </rich:panel>
                <rich:panel id="idAntecedentes" header="Antecedentes" styleClass="centerPanel">
                    <ui:include src="Antecedentes.xhtml"></ui:include>   
                </rich:panel>
                <rich:panel id="idExamen" header="Examen Fisico" styleClass="centerPanel">
                    <ui:include src="ExamenFisico.xhtml"/>  
                </rich:panel>
                <rich:panel id="idManejo" header="Manejo y soporte" styleClass="centerPanel">
                    <ui:include src="ManejoSoporte.xhtml"></ui:include>
                </rich:panel>
                <rich:panel id="idMedicamentos" header="Medicamentos administrado" styleClass="centerPanel">
                    <ui:include src="medicamentosAdministrados.xhtml"></ui:include> 
                </rich:panel>
                <rich:panel id="idImpresion" header="Impresión diagnostica" styleClass="centerPanel">
                    <ui:include src="impresionDiagnostica.xhtml"></ui:include> 
                </rich:panel>
                        <rich:panel id="idProfesional" header="Profesional a cargo" styleClass="centerPanel">
                    <ui:include src="ProfesionalEncargado.xhtml"></ui:include> 
                </rich:panel>
                <rich:panel id="idPatronS" header="Patron de sueño y descanso" styleClass="centerPanel">
                    <ui:include src="PatronDescanso.xhtml"></ui:include>
                </rich:panel>
                <rich:panel id="idPatronCog" header="Patron cognitivo/perceptual" styleClass="centerPanel">
                    <ui:include src="PatronCognitivo.xhtml"></ui:include>
                </rich:panel>
                <rich:panel id="idCuidador" header="Cuidador" styleClass="centerPanel">
                    <ui:include src="Cuidador.xhtml"></ui:include>
                </rich:panel>
        
                <rich:panel id="idEpi" header="Epicrisis" styleClass="centerPanel">
                    <h:inputTextarea  id="ep" required="false" requiredMessage="Ingrese" style="width: 850px;height: 100px;" value="#{historiaClinicaBean.cita.epicrisis}"></h:inputTextarea>
                    <rich:message for="ep"></rich:message>
                </rich:panel>
                <rich:panel id="idOrden" header="Ordenes médicas" styleClass="centerPanel">
                    <h:inputTextarea style="width: 850px;height: 100px;" value="#{historiaClinicaBean.cita.ordenesMedicas}"></h:inputTextarea>
                </rich:panel>
                <rich:panel id="idConsentimienti" header="Concentimiento informado" styleClass="centerPanel">
                    <h:outputText styleClass="consentimiento" value="Manifiesto que he sido informado a entera satisfaccion sobre mi estado de salud y la necesidad del servicio de consulta domiciliaria o de traslado  a "></h:outputText>  
                    <h:outputText styleClass="consentimiento" value="otro centro asistencial, asi como las posibles complicaciones que esto conlleva, entre las cuales esta la inestabilidad hemodinámica, ventilatoria y otros  "></h:outputText>  
                    <h:outputText styleClass="consentimiento" value="impredecibles.  Con base a lo anterior AUTORIZO al personal Médico y Auxiliar de Enfermeria de ASISTIR S.A a realizar el traslado o "></h:outputText>  
                    <h:outputText styleClass="consentimiento" value="procedimientos que sean necesarios debiendo guardar la reserva necesaria."></h:outputText>  
                    <h:outputText styleClass="consentimiento" value="Lo anterior de conformidad con la resolución 1995 de 1999 y el decreto 2309 de 2002, He tenido la oportunidad de hacer todas las preguntas pertinentes "></h:outputText>  
                    <h:outputText styleClass="consentimiento" value="para aclarar mis dudas y se me ha respondido de manera clara y suficiente. "></h:outputText>  
                </rich:panel>
                <rich:panel id="idResponsables" header="Responsables" styleClass="centerPanel">
                    <ui:include src="responsables.xhtml"></ui:include>
                </rich:panel>

                <br/>
                <center>
                    <a4j:commandButton style="width: 100px;" action="#{historiaClinicaBean.registrarHistoriaClinica()}" execute="id_datos_personales,id_antecedentes,ef,dtMedicamentosAdministrados,tblInfoGeneral,idEpi,idOrden,idResponsables,idManejo,id-profesional-acargo,id-patron-descanso,id-patron-cognitivo,id-cuidador_panel" render="id_datos_personales,id_antecedentes,ef,dtMedicamentosAdministrados,tblInfoGeneral,idEpi,idOrden,idResponsables,idManejo,id-profesional-acargo,id-patron-descanso,id-patron-cognitivo,id-cuidador_panel" value="Guardar" immediate="false" ></a4j:commandButton>               </center>
            </ui:define>

        </ui:composition>

    </body>
</html>
